<div class="container-login100" style="background-image: url('../assets/images/bg-01.jpg');">
  <div class="wrap-home p-l-55 p-r-55 p-t-80 p-b-30">
    <div class="header-title">
      <span class="page-admin-title">Welcome {{ userWallet.username }}
      </span>
      <button class="btn btn-outline-danger header-button-row" (click)="logout()" type="button"><i
          class="fa fa-sign-out"></i>Logout</button>
          <!-- btn-danger -->
    </div>

    <div class="row align-items-center">
      <!--<Primeng-Datatable-Start>-->
      <div class="primeng-datatable-container">
        <p-table #dataTable (onLazyLoad)="getAllUsers()" [value]="listUser" [paginator]="false" [lazy]="true"
          [scrollable]="true" ScrollWidth="100%" scrollHeight="265px">
          <ng-template pTemplate="header">
            <tr>
              <th style="width: 60px; text-align: center;">Action</th>
              <th style="width: 150px">
                _id
              </th>
              <th style="width: 150px">
                Username
              </th>
              <th style="width: 150px">
                WalletId
              </th>

            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-record="$implicit">
            <tr>
              <td style="width: 60px; text-align: center;">
                <div class="btn-group dropdown" normalizePosition>
                  <button class="dropdown-toggle btn btn-sm btn-primary" data-toggle="dropdown" aria-haspopup="true"
                    aria-expanded="false" style="text-align: center;">
                    <i class="fa fa-exchange"></i>
                    <span class="caret"></span> Action
                  </button>
                  <ul class="dropdown-menu">
                    <a class="dropdown-item" (click)="openViewDetailModal(record.walletId)">View Detail</a>
                    <a class="dropdown-item" *ngIf="record.username!=='admin'"
                      (click)="openChargeModal(record.walletId)">Charge</a>
                  </ul>
                </div>


              </td>
              <td style="width:150px">
                {{record._id}}
              </td>
              <td style="width:150px">
                {{record.username}}
              </td>
              <td style="width:150px">
                {{record.walletId}}
              </td>

            </tr>
          </ng-template>
        </p-table>
        <!-- <div class="primeng-paging-container">
          <p-paginator rows="10" #paginator
            (onPageChange)="getAllUsers()" [totalRecords]="6"
            [rowsPerPageOptions]="10">
          </p-paginator>
          <span class="total-records-count">
            TotalRecordsCount
          </span>
        </div> -->
      </div>
      <!--<Primeng-Datatable-End>-->
    </div>

    <div class="history">
      <!-- <ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
          <button (click)="getChargingList()" type="button" class="btn btn-outline-primary historyBtn">
            History
          </button>
        </li>
        <li class="nav-item">
          <button (click)="getSuccessfulList()" type="button" class="btn btn-outline-success successListBtn">
            Successful Transactions
          </button>
        </li>
      </ul> -->

      <div class="btn-group">
        <button (click)="getChargingList()" type="button" class="btn btn-outline-primary historyBtn">
          History
        </button>
        <button (click)="getSuccessfulList()" type="button" class="btn btn-outline-primary successListBtn">
          Successful Transactions
        </button>
      </div>

      <ul *ngFor="let transaction of listCharging" [hidden]="isDisplay">
        <li>{{ transaction }}</li>
      </ul>
      <ul *ngFor="let output of successfulList" [hidden]="isShow">
        <li>{{ output }}</li>
      </ul>
    </div>
  </div>
</div>

<chargeModal #chargeModal (resetHistory)="updateHistory()"></chargeModal>
<viewUserDetailModal #viewUserDetailModal></viewUserDetailModal>